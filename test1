t = int(input()) # вводим количество входных данных 
for i in range(t): # исходя из количества входных данных запускаем цикл - столько раз отработает наш код 
    # вводим и сразу распаковываем (то есть получаем два значения) - длину полосы и отрезка
    n, k = map(int, input().split())
    # вводим саму полосу 
    p = input()
    # создаем счетчик - максимально допустимое число, чтобы затем делать проверку на минимум
    counter = 2*10**5
    # работаем с каждой подстрокой k в отрезке длиной n
    # если k = 3, а строка BBWBB, то возможные подстроки будут следующими:
    # bbw, bwb, wbb
    for b in range(n-k+1):
        # получаем отрезок следующим образом: если i = 0, то получаем отрезок от 0 до k (до 3) и т.д.
        # для каждой подстроки считаем количество белых клеток, то есть сколько нужно красить
        # меняем значение counter, пока не найдем минимальное. 
        counter = min(counter, p[b:b+k].count('W'))
    print(counter)
